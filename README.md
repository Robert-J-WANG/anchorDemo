## React 中实现 锚点跳转和页面滚动时锚点高亮双向绑定

#### 1. 点击锚点链接时，平滑地滚动页面到对应位置， 同时修改 URL 路径（移出#号）

#### 2. 在滚动时，根据页面位置高亮显示相应的锚点链接,同时添加 URL 路径（没有#号）

## 逻辑的原理和过程：

#### 1. 首先，代码导入了必要的 React 组件和函数，包括 useEffect、useRef、useState 用于状态管理，以及 useNavigate 和 useLocation 用于 React Router 相关操作。

#### 2. 在组件函数 AnchorDemo 中，定义了一些状态和变量。navigate 和 location 分别用于进行页面导航和获取当前页面的 URL 信息。offsetTopList 用于保存每个锚点的距离浏览器窗口顶部的位置信息，activeBar 用于标记当前活动的锚点。

#### 3. 使用 useEffect 钩子在组件加载时执行一次，该钩子用于计算每个锚点的位置信息并将其保存在 offsetTopList 状态中。遍历 FloorItems 数组，获取每个锚点元素的 DOM 节点，计算其相对于视口顶部的位置，并将位置信息存入 offsetTopList。

#### 4. 使用 useRef 创建了一个引用 ref，用于获取滚动容器的 DOM 节点。

#### 5. 定义了一个名为 onScrollEvent 的函数，该函数在滚动容器滚动时触发。在函数中，遍历 offsetTopList，找到当前滚动位置对应的锚点，并更新 activeBar 状态以高亮活动的锚点。然后，构建新的 URL 路径用于导航，并修改对应锚点链接的样式。

#### 6. handleClick 函数用于处理点击锚点链接的事件。当用户点击某个锚点链接时，该函数会滑动页面平滑地滚动到对应的锚点位置。然后，构建新的 URL 路径用于导航，并进行页面的状态替换。

#### 7. 渲染部分包括两个主要的 div 元素。第一个 div 是一个具有滚动条的容器，包含了多个锚点元素，它会监听滚动事件并执行 onScrollEvent 函数。第二个 div 是一个固定在页面上的侧边栏，显示了多个锚点链接。每个锚点链接都通过 onClick 属性调用 handleClick 函数来处理点击事件，并根据 activeBar 状态决定是否高亮。

#### 8. 通过这样的实现，页面在滚动时会根据滚动位置高亮显示对应的锚点链接，而点击锚点链接时会平滑滚动到相应的锚点位置，并根据滚动位置更新对应的 URL 路径。这样实现了锚点跳转与页面滚动时锚点高亮的双向绑定效果。
